import{C as i,V as f,a as p,A as c,P as m,n as d}from"./index.ebb97b83.js";var h=Object.defineProperty,v=Object.getOwnPropertyDescriptor,_=(e,o,t,r)=>{for(var a=r>1?void 0:r?v(o,t):o,n=e.length-1,s;n>=0;n--)(s=e[n])&&(a=(r?s(o,t,a):s(a))||a);return r&&a&&h(o,t,a),a};let u=class extends p{constructor(){super(...arguments),this.appMounted=!1,this.appId="subapp",this.globalCfg={test:"\u8FD9\u91CC\u662F\u901A\u4FE1\u4F20\u7684"},this.appEntry=c,this.appType="subapp-cmp",this.mainRouteBase="/#/vue/",this.iframeRouteBase="/sonapp/#/",this.beforeCreate=()=>Promise.resolve().then(()=>{console.log("beforeCreate called")}),this.afterCreate=()=>Promise.resolve().then(()=>{console.log("afterCreate called")}),this.iframeMounted=()=>Promise.resolve().then(()=>{console.log("iframe mounted called")}),this.beforeMount=()=>Promise.resolve().then(()=>{console.log("beforeMount called")}),this.beforeUnmount=()=>Promise.resolve().then(()=>{console.log("beforeUnmount called")}),this.afterUnmount=()=>Promise.resolve().then(()=>{console.log("afterUnmount called")})}openPage1(){this.$platform.openChildPage({path:"/#/vue",appId:"subapp",subPath:"/sonapp/#/page",params:{test1:"test1"}})}openPage2(){this.$platform.openChildPage({path:"/#/vue",appId:"subapp",subPath:"/sonapp/#/page",childParams:{name:"10.134.48.24\uFF08hci3\u4E2A\u4E3B\u673A\u672A\u7EB3\u7BA1vm\u4F46\u5E26vs\uFF09",id:"41d0e9c0-d201-4529-8716-161ef2306323",type:"cluster"},target:m.OPEN_WINDOW_TARGET.BLANK})}operatorProgress(e){console.log("\u8FD9\u662F\u7236\u7A97\u53E3\u6253\u5370\u7684",e)}iframeAfterMount(){this.appMounted=!0,console.log("afterMount called"),this.appMounted=!0,p.prototype.$platform.registerChild("PARENT_CAN_DO",()=>{alert("\u8FD9\u662F\u5B50\u64CD\u4F5C\u7236\u505A\u7684\u81EA\u5B9A\u4E49\u64CD\u4F5C")},this.control)}sessionTimeoutHandler(){window.location.href="/#/login"}get control(){return this.$refs.vueApp.control}childGo(){let e=this.$platform.service.invokeChildService(this.appId,"showText");console.log(e instanceof Object)}mounted(){}beforeDestroy(){console.log("\u5B50\u5D4C\u5165\u9875\u9500\u6BC1")}};u=_([i({components:{VueApp:f}})],u);var g=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"app-all"},[t("button",{on:{click:e.openPage1}},[e._v("\u5F53\u524D\u9875\u7236\u8DF3\u5B50\u8DF3\u8F6C")]),t("button",{on:{click:e.openPage2}},[e._v("\u65B0\u6807\u7B7E\u9875\u7236\u8DF3\u5B50\u8DF3\u8F6C")]),e._v(" \u8FD9\u91CC\u662F\u7236\u64CD\u4F5C\u5B50| "),t("button",{on:{click:e.childGo}},[e._v("\u7236\u64CD\u4F5C\u5B50")]),t("vue-app",{ref:"vueApp",attrs:{"content-class":"app-content","app-id":e.appId,"app-entry":e.appEntry,data:e.globalCfg,"iframe-before-create":e.beforeCreate,"iframe-after-create":e.afterCreate,"iframe-before-mount":e.beforeMount,"iframe-before-unmount":e.beforeUnmount,"iframe-mounted":e.iframeMounted,"iframe-after-unmount":e.afterUnmount,"app-type":e.appType,"iframe-route-base":e.iframeRouteBase,"main-route-base":e.mainRouteBase,"session-timeout-handler":e.sessionTimeoutHandler,"operator-progress":e.operatorProgress,"iframe-after-mount":e.iframeAfterMount,platform:e.$platform}}),e.appMounted?e._e():t("div",{staticClass:"app-loading"},[e._v("loading")])],1)},b=[];const l={};var C=d(u,g,b,!1,P,null,null,null);function P(e){for(let o in l)this[o]=l[o]}var F=function(){return C.exports}();export{F as default};
