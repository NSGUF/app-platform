import{C as i,a as l,V as c,A as f,n as _}from"./index.14bd2297.js";var m=Object.defineProperty,v=Object.getOwnPropertyDescriptor,g=(e,o,t,s)=>{for(var r=s>1?void 0:s?v(o,t):o,a=e.length-1,n;a>=0;a--)(n=e[a])&&(r=(s?n(o,t,r):n(r))||r);return s&&r&&m(o,t,r),r};let p=class extends c{constructor(){super(...arguments),this.appMounted=!1,this.defaultQuery={query:"\u8FD9\u91CC\u662Fson \u7684url\u7684"},this.globalCfg={test:"\u8FD9\u91CC\u662Fson \u7684\u901A\u4FE1\u4F20\u7684"},this.appEntry=f,this.appType="subapp-cmp",this.mainRouteBase=()=>`/sonapp${this.getPrefix()}/#/sonapp/`,this.iframeRouteBase=()=>`/grandson-app${this.getPrefix()}/#/`}getPrefix(){const t=window.location.href.split(window.location.host)[1].split("#")[0].split("?")[1]||"";return t?"?"+t:""}operatorProgress(e){console.log("\u8FD9\u662Fson\u6253\u5370\u7684",e)}iframeAfterMount(){this.appMounted=!0,console.log(4)}sessionTimeoutHandler(){window.location.href="#/login"}beforeDestroy(){console.log("\u5B59\u5B50\u5D4C\u5165\u9875\u9500\u6BC1")}openPage1(){this.$platform.openPage("#/page")}openProgress(){let e=0;const o=setInterval(()=>{this.$platform.updateProgress(e),e===100&&clearInterval(o),e+=10},400)}toLogin(){this.$platform.sessionTimeoutHandler()}};p=g([i({components:{VueApp:l}})],p);var b=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{staticClass:"about"},[t("button",{on:{click:e.openPage1}},[e._v("\u6253\u5F00\u65B0\u754C\u9762")]),t("br"),t("br"),t("br"),t("br"),t("button",{on:{click:e.openProgress}},[e._v("\u8FDB\u5EA6\u6761")]),e._v(" console\u4F1A\u8F93\u51FA "),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("button",{on:{click:e.toLogin}},[e._v("\u7236\u5BB9\u5668\u8DF3\u8F6C\u767B\u5F55\u9875123")])]),t("div",{staticClass:"app-all"},[t("vue-app",{attrs:{"content-class":"app-content","app-id":"son_subapp","app-entry":e.appEntry,data:e.globalCfg,"iframe-route-base":e.iframeRouteBase,"app-type":e.appType,"main-route-base":e.mainRouteBase,"session-timeout-handler":e.sessionTimeoutHandler,"operator-progress":e.operatorProgress,"iframe-after-mount":e.iframeAfterMount,platform:e.$platform}})],1)])},d=[];const u={};var h=_(p,b,d,!1,P,null,null,null);function P(e){for(let o in u)this[o]=u[o]}var y=function(){return h.exports}();export{y as default};
